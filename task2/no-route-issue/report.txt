From M4 to S2 (using source address from 192.168.4.0/24):
  traceroute -n -s 192.168.4.1 192.168.2.2
    >> 192.168.34.2
    >> *
    >> *
    >> ...

However from M3 to S1:
  traceroute -n -s 192.168.3.1 192.168.1.2
    >> 192.168.23.2
    >> 192.168.12.2
    >> 192.168.12.2
    >> 192.168.1.2

Explanation is following:

route 192.168.1.1 -> 192.168.3.1:
  (M1) gw 192.168.12.1 -> (M2) gw 192.168.23.1 -> (M3)
route 192.168.3.1 -> 192.168.1.1:
  (M3) gw 192.168.23.2 -> (M2) gw 192.168.12.2 -> (M1)
route 192.168.2.1 -> 192.168.4.1:
  (M2) gw 192.168.12.2 -> (M1) gw 192.168.41.2 -> (M4)
route 192.168.4.1 -> 192.168.2.1:
  (M4) gw 192.168.34.2 -> (M3) gw 192.168.23.2 -> (M1)

I.e. M1 -> M3 and M3 -> M1 use same chain, however M2 -> M4 and M4 -> M2 are different

IP addresses (netmask 255.255.255.0)

    m1.txt: 192.168.41.1
            192.168.12.2
            192.168.1.1
    m2.txt: 192.168.12.1
            192.168.23.2
            192.168.2.1
    m3.txt: 192.168.23.1
            192.168.34.2
            192.168.3.1
    m4.txt: 192.168.34.1
            192.168.41.2
            192.168.4.1
    s1.txt: 192.168.1.2
    s2.txt: 192.168.2.2
    s3.txt: 192.168.3.2
    s4.txt: 192.168.4.2

M1

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.27.1.1       0.0.0.0         UG    202    0        0 ens3
10.27.1.0       0.0.0.0         255.255.255.0   U     202    0        0 ens3
192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 ens6
192.168.2.0     192.168.12.1    255.255.255.0   UG    2      0        0 ens5
192.168.3.0     192.168.12.1    255.255.255.0   UG    3      0        0 ens5
192.168.4.0     192.168.41.2    255.255.255.0   UG    2      0        0 ens4
192.168.12.0    0.0.0.0         255.255.255.0   U     0      0        0 ens5
192.168.23.0    192.168.12.1    255.255.255.0   UG    2      0        0 ens5
192.168.34.0    192.168.41.2    255.255.255.0   UG    2      0        0 ens4
192.168.41.0    0.0.0.0         255.255.255.0   U     0      0        0 ens4

M2

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.27.2.1       0.0.0.0         UG    202    0        0 ens3
10.27.2.0       0.0.0.0         255.255.255.0   U     202    0        0 ens3
192.168.1.0     192.168.12.2    255.255.255.0   UG    2      0        0 ens4
192.168.2.0     0.0.0.0         255.255.255.0   U     0      0        0 ens6
192.168.3.0     192.168.23.1    255.255.255.0   UG    2      0        0 ens5
192.168.4.0     192.168.12.2    255.255.255.0   UG    3      0        0 ens4
192.168.12.0    0.0.0.0         255.255.255.0   U     0      0        0 ens4
192.168.23.0    0.0.0.0         255.255.255.0   U     0      0        0 ens5
192.168.34.0    192.168.23.1    255.255.255.0   UG    2      0        0 ens5
192.168.41.0    192.168.12.2    255.255.255.0   UG    2      0        0 ens4

M3

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.27.3.1       0.0.0.0         UG    202    0        0 ens3
10.27.3.0       0.0.0.0         255.255.255.0   U     202    0        0 ens3
192.168.1.0     192.168.23.2    255.255.255.0   UG    3      0        0 ens4
192.168.2.0     192.168.23.2    255.255.255.0   UG    2      0        0 ens4
192.168.3.0     0.0.0.0         255.255.255.0   U     0      0        0 ens6
192.168.4.0     192.168.34.1    255.255.255.0   UG    2      0        0 ens5
192.168.12.0    192.168.23.2    255.255.255.0   UG    2      0        0 ens4
192.168.23.0    0.0.0.0         255.255.255.0   U     0      0        0 ens4
192.168.34.0    0.0.0.0         255.255.255.0   U     0      0        0 ens5
192.168.41.0    192.168.34.1    255.255.255.0   UG    2      0        0 ens5

M4

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.27.4.1       0.0.0.0         UG    202    0        0 ens3
10.27.4.0       0.0.0.0         255.255.255.0   U     202    0        0 ens3
192.168.1.0     192.168.41.1    255.255.255.0   UG    2      0        0 ens5
192.168.2.0     192.168.34.2    255.255.255.0   UG    3      0        0 ens4
192.168.3.0     192.168.34.2    255.255.255.0   UG    2      0        0 ens4
192.168.4.0     0.0.0.0         255.255.255.0   U     0      0        0 ens6
192.168.12.0    192.168.41.1    255.255.255.0   UG    2      0        0 ens5
192.168.23.0    192.168.34.2    255.255.255.0   UG    2      0        0 ens4
192.168.34.0    0.0.0.0         255.255.255.0   U     0      0        0 ens4
192.168.41.0    0.0.0.0         255.255.255.0   U     0      0        0 ens5
